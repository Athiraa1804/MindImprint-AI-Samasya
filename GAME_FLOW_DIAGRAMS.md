# ðŸ“ˆ GAME FLOW DIAGRAMS

## **Complete Assessment Session Flow**

```
START
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HOME SCREEN                      â”‚
â”‚  Title: "Discover Your Child's           â”‚
â”‚          Cognitive Superpowers"          â”‚
â”‚                                          â”‚
â”‚  Age Group Selection:                    â”‚
â”‚  [ 4-6  ]  [ 7-9  ]  [ 10-12 ]          â”‚
â”‚                                          â”‚
â”‚  [Start Exploration Button]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      Age Group = 1 (7-9)
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ASSESSMENT FLOW BEGINS                                     â”‚
â”‚    (AssessmentFlow Widget)                                    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
     â”‚                                                     â”‚
     â–¼                                                     â–¼
GAME 1: WAIT FOR YOUR TURN                          GAME 2: STORY READING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â³ 2 MINUTES TOTAL           â”‚                 â”‚  ðŸ“– 5 MINUTES TOTAL          â”‚
â”‚                              â”‚                 â”‚                              â”‚
â”‚  Phase 1: PRACTICE (30 sec)  â”‚                 â”‚  Read story pages at own     â”‚
â”‚  â”œâ”€ Countdown = 3 (fixed)   â”‚                 â”‚  pace                        â”‚
â”‚  â”œâ”€ No scoring              â”‚                 â”‚                              â”‚
â”‚  â””â”€ Warm up round           â”‚                 â”‚  BUTTONS:                    â”‚
â”‚                              â”‚                 â”‚  [SKIP Page]  [NEXT Page]   â”‚
â”‚  Phase 2: MAIN (90 sec)      â”‚                 â”‚                              â”‚
â”‚  â”œâ”€ Countdown: Random 2-15 s â”‚                 â”‚  TIMER: Shows remaining     â”‚
â”‚  â”œâ”€ Full scoring active      â”‚                 â”‚  PAGE COUNTER:              â”‚
â”‚  â””â”€ Continuous rounds        â”‚                 â”‚  Page 1 / 3                 â”‚
â”‚                              â”‚                 â”‚                              â”‚
â”‚  SCREEN CHANGES:             â”‚                 â”‚  AUTO-FINISH at 5 minutes   â”‚
â”‚  Before GO: BLUE background  â”‚                 â”‚                              â”‚
â”‚  After GO:  GREEN background â”‚                 â”‚  TEXT SIZE: 22pt, centered  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                               â”‚
             â”‚ Countdown: 3...2...1...                       â”‚ Read Page 1
             â”‚                                               â”‚ Time tracked
             â–¼                                               â”‚
        [GO!]                                                â–¼
        Show "GO!"                                    [NEXT] â†’ Page 2
        Start accepting taps                         Time tracked
             â”‚                                               â”‚
             â”‚ User taps before GO                           â”‚ [NEXT] â†’ Page 3
             â”‚ â”œâ”€ prematureTaps++                            â”‚ Time tracked
             â”‚ â””â”€ Message: "Oopsâ€”wait a little ðŸ˜Š"           â”‚
             â”‚                                               â–¼
             â”‚ User taps after GO                      [SKIP] â†’ Loop back
             â”‚ â”œâ”€ reactionTime recorded (ms)           Or: NEXT â†’ Loop
             â”‚ â”œâ”€ reactionTimes.add(ms)                Or: Timer expires
             â”‚ â””â”€ Stats update in real-time                  â”‚
             â”‚                                               â”‚
        [Continue rounds]                          [Game ends]
             â”‚                                               â”‚
             â”‚ Loop until 2 min expires                      â”‚
             â”‚                                               â”‚
             â–¼                                               â–¼
        [Game ends]                             StoryGameResult created:
                                                â”œâ”€ pagesRead: 2
    WaitingGameResult created:                  â”œâ”€ pagesSkipped: 1
    â”œâ”€ prematureTaps: 5                         â”œâ”€ pageReadingTimes: [...]
    â”œâ”€ reactionTimes: [245,256,...]             â”œâ”€ avgReadTime: 2698
    â”œâ”€ avgReaction: 280.6                       â”œâ”€ skipRate: 0.333
    â”œâ”€ reactionVariability: 28.3                â”œâ”€ startTime: ...
    â”œâ”€ totalTrials: 15                          â”œâ”€ endTime: ...
    â”œâ”€ startTime: ...                           â””â”€ ageGroup: 1
    â”œâ”€ endTime: ...
    â””â”€ ageGroup: 1                              Return to AssessmentFlow
                                                
    Return to AssessmentFlow
             â”‚
             â”‚ [Game 2 started]
             â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    DATA TRANSMISSION                                          â”‚
â”‚                                                               â”‚
â”‚    AssessmentSessionResult created:                          â”‚
â”‚    â”œâ”€ waitingResult: { all metrics from Game 1 }            â”‚
â”‚    â”œâ”€ storyResult: { all metrics from Game 2 }              â”‚
â”‚    â”œâ”€ ageGroup: 1                                            â”‚
â”‚    â”œâ”€ sessionStart: timestamp                                â”‚
â”‚    â””â”€ sessionEnd: timestamp                                  â”‚
â”‚                                                               â”‚
â”‚    HTTP POST /save_session                                   â”‚
â”‚    â”œâ”€ URL: http://127.0.0.1:5000/save_session              â”‚
â”‚    â”œâ”€ Method: POST                                           â”‚
â”‚    â”œâ”€ Body: JSON with all metrics (~8 KB)                   â”‚
â”‚    â””â”€ Headers: Content-Type: application/json               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FLASK BACKEND PROCESSING                                  â”‚
â”‚                                                               â”‚
â”‚    1. Parse JSON request                                     â”‚
â”‚    2. Extract game data:                                     â”‚
â”‚       - Wait game metrics                                    â”‚
â”‚       - Story game metrics                                   â”‚
â”‚       - Timestamps and metadata                              â”‚
â”‚                                                               â”‚
â”‚    3. Calculate behavioral scores:                           â”‚
â”‚       - Impulsivity = premature_taps / 0.5 (0-1)            â”‚
â”‚       - Reaction Speed = (avg_reaction - 250) / 300 (0-1)   â”‚
â”‚       - Variability = reaction_variability / 200 (0-1)      â”‚
â”‚                                                               â”‚
â”‚    4. Classify pattern:                                      â”‚
â”‚       IF impulsivity > 0.6 AND variability > 0.6:           â”‚
â”‚         â†’ "High impulsivity, fluctuating attention"          â”‚
â”‚       ELIF reaction_speed > 0.6:                             â”‚
â”‚         â†’ "Slow but controlled responses"                    â”‚
â”‚       ELIF impulsivity < 0.3 AND variability < 0.3:         â”‚
â”‚         â†’ "Strong impulse control, stable attention"         â”‚
â”‚       ELSE:                                                  â”‚
â”‚         â†’ "Moderate attention and impulse control"           â”‚
â”‚                                                               â”‚
â”‚    5. Store in SQLite:                                       â”‚
â”‚       INSERT INTO sessions VALUES (                          â”‚
â”‚         session_id, age_group, timestamps,                   â”‚
â”‚         wait_game_data (JSON),                               â”‚
â”‚         story_game_data (JSON),                              â”‚
â”‚         analysis_scores (JSON)                               â”‚
â”‚       )                                                       â”‚
â”‚                                                               â”‚
â”‚    6. Return response:                                       â”‚
â”‚       {                                                      â”‚
â”‚         "status": "success",                                 â”‚
â”‚         "analysis": {                                        â”‚
â”‚           "impulsivity": 0.35,                               â”‚
â”‚           "reaction_speed": 0.28,                            â”‚
â”‚           "pattern": "Moderate..."                           â”‚
â”‚         }                                                    â”‚
â”‚       }                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FINAL REPORT SCREEN                                       â”‚
â”‚                                                               â”‚
â”‚    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚    â•‘  ðŸ§  Assessment Complete!                            â•‘  â”‚
â”‚    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚    â•‘                                                      â•‘  â”‚
â”‚    â•‘  â³ Impulse Control (Wait For Your Turn)             â•‘  â”‚
â”‚    â•‘    Total Correct Taps:    12                        â•‘  â”‚
â”‚    â•‘    Premature Taps:        3                         â•‘  â”‚
â”‚    â•‘    Avg Reaction Time:     285 ms                    â•‘  â”‚
â”‚    â•‘    Reaction Variability:  42 ms                     â•‘  â”‚
â”‚    â•‘    Total Trials:          15                        â•‘  â”‚
â”‚    â•‘                                                      â•‘  â”‚
â”‚    â•‘  ðŸ“– Reading Attention (Story Reading)               â•‘  â”‚
â”‚    â•‘    Pages Read:            2                         â•‘  â”‚
â”‚    â•‘    Pages Skipped:         1                         â•‘  â”‚
â”‚    â•‘    Avg Read Time:         2684 ms                   â•‘  â”‚
â”‚    â•‘    Skip Rate:             33.3%                     â•‘  â”‚
â”‚    â•‘                                                      â•‘  â”‚
â”‚    â•‘  âœ… All data has been saved to the backend!         â•‘  â”‚
â”‚    â•‘                                                      â•‘  â”‚
â”‚    â•‘                           [Done]                    â•‘  â”‚
â”‚    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        [Done Button]
             â”‚
             â–¼
        Return to Home Screen
             â”‚
             â–¼
          END
```

---

## **Wait For Your Turn Game - Detailed Flow**

```
GAME START (gameStartTime = now)
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ PRACTICE ROUND (0-30 seconds)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚
â”‚  Timer: 0 sec
â”‚  Display: "ðŸ« Practice Round"
â”‚           "3"           â† Fixed countdown
â”‚           "Waitâ€¦"
â”‚
â”‚  Elapse 1 second: Timer = 1 sec
â”‚  Display: "2"
â”‚
â”‚  Elapse 1 second: Timer = 2 sec
â”‚  Display: "1"
â”‚
â”‚  Elapse 1 second: Timer = 3 sec
â”‚  Display: "GO!"           â† Switch to green
â”‚  goTime = now()
â”‚
â”‚  User taps screen (at 200 ms):
â”‚    Since goSignal = TRUE and tap is after GO
â”‚    reactionTime = 200 - 0 = 200 ms
â”‚    reactionTimes.add(200)
â”‚    Display: stats update
â”‚
â”‚  Wait 500 ms, then start next round
â”‚
â”‚  Elapse: 30 seconds total
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ MAIN GAME ROUND 1 (30-35 seconds example)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚
â”‚  Timer: 30 sec
â”‚  isPracticeRound = FALSE
â”‚  Display: "ðŸŽ® Main Game"
â”‚
â”‚  Random countdown selected: 7 seconds
â”‚  Display: "7"           â† Random for each round!
â”‚           "Waitâ€¦"
â”‚
â”‚  Elapse 1 sec: Timer = 31 sec, countdown = 6
â”‚  Elapse 1 sec: Timer = 32 sec, countdown = 5
â”‚  Elapse 1 sec: Timer = 33 sec, countdown = 4
â”‚  Elapse 1 sec: Timer = 34 sec, countdown = 3
â”‚
â”‚  User taps screen (at 33 sec):
â”‚    Since goSignal = FALSE (countdown still running)
â”‚    prematureTaps++           â† Counted as error
â”‚    canTap = FALSE
â”‚    Show message: "â³ Oops â€” wait a little ðŸ˜Š"
â”‚    Prevent further taps this round
â”‚
â”‚  Elapse 1 sec: Timer = 35 sec, countdown = 2
â”‚  Elapse 1 sec: Timer = 36 sec, countdown = 1
â”‚  Elapse 1 sec: Timer = 37 sec, countdown = 0
â”‚  Display: "GO!"          â† Now green, accepting taps
â”‚  goTime = now()
â”‚  canTap = TRUE
â”‚  totalTrials++
â”‚
â”‚  No user tap â†’ MISSED (don't penalize, just wait)
â”‚
â”‚  Wait 500 ms, then start next round
â”‚
â”‚  [Repeat for remaining rounds until 120 sec]
â”‚
â”‚  ...
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ GAME END (120 seconds)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚
â”‚  Timer reaches 120 seconds
â”‚  finishGame() is called
â”‚  gameTimer.cancel()
â”‚
â”‚  Calculate metrics:
â”‚    avgReaction = sum(reactionTimes) / count
â”‚    variability = sqrt(sum((rt - avg)Â²) / count)
â”‚
â”‚  Create WaitingGameResult with:
â”‚    - prematureTaps: 5
â”‚    - reactionTimes: [245, 256, 312, 289, 301, ...]
â”‚    - avgReaction: 280.6
â”‚    - reactionVariability: 28.3
â”‚    - totalTrials: 15
â”‚    - startTime: game start timestamp
â”‚    - endTime: game end timestamp
â”‚    - ageGroup: 1
â”‚
â”‚  Navigator.pop(context, result)
â”‚  â†“ Returns to AssessmentFlow
```

---

## **Story Reading Game - Detailed Flow**

```
GAME START (gameStartTime = now)
â”‚
â”‚  Current Page: 0
â”‚  Timer: 0 sec (out of 300)
â”‚  Display: Page 1 text
â”‚           [SKIP Page]  [NEXT Page]
â”‚           "â±ï¸ 5:00" (timer showing 5 minutes)
â”‚           "Page 1 / 3"
â”‚
â”‚  User reads page 1 for some time...
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ USER PRESSES "SKIP"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚
â”‚  timeSpent = DateTime.now() - pageStartTime = 3240 ms
â”‚  pageReadingTimes.add(3240)
â”‚  skipCount++                      â† Count as skip
â”‚
â”‚  currentPage = 1
â”‚  pageStartTime = DateTime.now()   â† Reset timer for next page
â”‚
â”‚  Display: Page 2 text
â”‚           "â±ï¸ 4:55" (timer updated)
â”‚           "Page 2 / 3"
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ USER PRESSES "NEXT"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚
â”‚  timeSpent = DateTime.now() - pageStartTime = 2156 ms
â”‚  pageReadingTimes.add(2156)
â”‚  nextCount++                      â† Count as read
â”‚
â”‚  currentPage = 2
â”‚  pageStartTime = DateTime.now()
â”‚
â”‚  Display: Page 3 text
â”‚           "â±ï¸ 4:30"
â”‚           "Page 3 / 3"
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ TIMER RUNS OUT (300 seconds elapsed)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚
â”‚  elapsedSeconds = 300
â”‚  finishStory() is called
â”‚
â”‚  Calculate metrics:
â”‚    avgReadTime = sum(pageReadingTimes) / count
â”‚    skipRate = skipCount / totalPages
â”‚
â”‚  Example:
â”‚    pageReadingTimes: [3240, 2156, 4521]
â”‚    skipCount: 1
â”‚    nextCount: 2
â”‚    avgReadTime = (3240 + 2156 + 4521) / 3 = 3305.67 ms
â”‚    skipRate = 1 / 3 = 0.333
â”‚
â”‚  Create StoryGameResult with:
â”‚    - pagesRead: 2
â”‚    - pagesSkipped: 1
â”‚    - pageReadingTimes: [3240, 2156, 4521]
â”‚    - avgReadTime: 3305.67
â”‚    - skipRate: 0.333
â”‚    - startTime: game start timestamp
â”‚    - endTime: game end timestamp
â”‚    - ageGroup: 1
â”‚
â”‚  Navigator.pop(context, result)
â”‚  â†“ Returns to AssessmentFlow
```

---

## **Data Structure - JSON**

```json
{
  "session_id": "1705484520123",
  "age_group": 1,
  "session_start": "2025-01-17T10:08:40.123Z",
  "session_end": "2025-01-17T10:15:40.456Z",
  "total_duration_seconds": 420,
  
  "wait_for_your_turn": {
    "game_id": "wait_for_your_turn",
    "age_group": 1,
    "premature_taps": 5,
    "reaction_times": [
      245, 256, 312, 289, 301, 267, 298,
      301, 289, 256, 289, 278, 291, 305, 267
    ],
    "avg_reaction": 280.6,
    "reaction_variability": 28.3,
    "total_trials": 15,
    "start_time": "2025-01-17T10:08:40.123Z",
    "end_time": "2025-01-17T10:10:40.456Z",
    "duration_seconds": 120
  },
  
  "story_reading": {
    "game_id": "story_reading",
    "age_group": 1,
    "pages_read": 2,
    "pages_skipped": 1,
    "page_reading_times": [3240, 2156, 4521],
    "avg_read_time": 3305.67,
    "skip_rate": 0.333,
    "start_time": "2025-01-17T10:10:40.456Z",
    "end_time": "2025-01-17T10:15:40.123Z",
    "duration_seconds": 300
  }
}
```

---

**Diagram Version:** 1.0
**Last Updated:** January 17, 2026
